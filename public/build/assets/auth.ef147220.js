import{m as o,a as d}from"./Alert.c90547c0.js";const m=document.querySelector("#registro");m.addEventListener("click",p);async function p(i){i.preventDefault();const a=document.querySelector("#nombre").value,n=document.querySelector("#apellido").value,s=document.querySelector("#telefono").value,c=document.querySelector("#email").value,r=document.querySelector("#contrase\xF1a").value,l=document.querySelector("#contrase\xF1a2").value;if(a===""||n===""||s===""||c===""||r===""||l==="")return o("Todos los campos son obligatorios","error",".formulario");if(r!==l)return o("Las contrase\xF1as no son iguales","error",".formulario");const e=new FormData;e.append("nombre",a),e.append("apellido",n),e.append("email",c),e.append("contrase\xF1a",r),e.append("telefono",s),e.append("admin",0),e.append("confirmado",0),e.append("token","");try{const t=await(await fetch(`${d}/usuarios`,{method:"POST",body:e})).json();if(t.tipo==="error")return o(t.mensaje,"error",".formulario");o(t.mensaje,"exito",".formulario"),setTimeout(()=>{window.location.href="/index.html"},2e3)}catch(u){console.log(u)}}
